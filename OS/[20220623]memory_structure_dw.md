# 프로세스의 메모리 구조

목적: 프로세스의 메모리 구조에 대해서 설명할 수 있어야 한다. 각 영역의 특징에 대해서 설명할 수 있어야 한다.

프로세스의 메모리 구조는 4가지 영역으로 구성되어 있다. 
- 스택, 힙, 데이터영역, 코드

    ![image](https://user-images.githubusercontent.com/51036842/175083020-fd84ad0f-2c1d-4f4a-ac75-8597c10e3569.png) 그림1. 프로세스의 메모리 구조


- 힙이나 스택 영역은 프로그램이 실행하는 동안 크기가 결정되는 동적 할당 영역입니다. 입력 값에 의한 함수의 호출 횟수나 동적으로 생성되는 변수들의 크기는 런타임 시에 결정되기 때문입니다.

- 반면 프로그램 코드 자체나 Data영역(전역 변수와 정적 변수)의 경우 실행되기 전에도 크기가 이미 정해져 있고 바뀔 일이 없어 컴파일 시에 위치와 크기가 결정되는 정적 할당 영역이다.

### 스택
- <span style="color:yellow"> 상위 메모리 주소에서 하위 메모리 주소로 데이터가 저장된다.</span>
- <span style="color:yellow"> 스택에는 지역변수, 매개변수, 함수가 저장되고</span> 컴파일 시에 크기가 결정되며 동적인 특징을 갖는다.

- 함수 호출의 전반적인 처리와 리턴값(함수 인자 값, 함수 내의 지역 변수, 함수의 반환 주소 등)이 저장되는 영역이다. 
- 스택 영역은 함수가 함수를 재귀 호출하면서 동적으로 크기가 늘어날 수 있는데, 이때 힙과 스택의 메모리 영역이 겹치면 안되기 때문에 힙과 스택 사이의 공간은 비워 놓는다.


### 힙
- 힙은 동적 할당할 때 사용되며 <span style="color:yellow">런타임 시 크기가 결정된다.</span>
- c 언어 기준으로 malloc()이나 calloc() 함수에 의해 생성된 변수들이 이 곳에 할당된다.

- [참고할 링크](https://marvell.tistory.com/entry/Java-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EC%A0%90%EC%97%90%EC%84%9C-%EB%B3%B8-String)


### 데이터
- 데이터 영역은 <span style="color:yellow"> 전역변수, 정적 변수가 저장되고, 정적인 특징을 갖는 프로그램이 종료되면 사라지는 변수</span>가 들어 있는 영역이다.
- BSS 영역과 Data 영역으로 나뉘고, BSS 영역은 초기화가 되지 않은 변수가 0으로 초기화되어 저장되며 Data 영역(Data segment)은 0이 아닌 다른 값으로 할당된 변수들이 저장된다.

### 코드
- 코드 영역은 <span style="color:yellow">프로그램에 내장되어 있는 소스 코드가 들어가는 영역</span>이다. 
- 이 영역은 수정 불가능한 기계어로 저장되어 있으며 정적인 특징을 가집니다.

### 참고 자료
- [프로세스 메모리 구조](https://everybe-ok.tistory.com/15)