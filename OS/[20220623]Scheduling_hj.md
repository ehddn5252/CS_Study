# 스케줄링 (Scheduling)

여러 프로세스가 번갈아가며 사용하는 자원을 어떤 시점에 어떤 프로세스에게 자원을 할당할 지를 결정하는 것

스케줄링 방법에 따라 프로세서(CPU)를 할당받을 프로세스를 결정하므로, 시스템의 성능에 직/간접적으로 영향을 미친다.

## 스케줄링의 목적

- 공정한 스케줄링 - 모든 프로세스에 공정하게 할당
- 응답시간,대기시간,반환시간,오버헤드 최소화
- CPU 이용률 증가 - CPU의 낭비시간을 줄이고, 순수하게 프로세스를 실행에 사용되는 시간비율 증가
- 처리량 증가 - 단위시간당 프로세스를 처리하는 비율(양) 증가
- 우선순위 제도 - 우선순위가 높은 프로세스 먼저 실행
- 무한 연기 회피 - 자원 사용을 위해 무한정 연기되는 상태를 회피
- 균형있는 자원사용

<br/>

# 선점 스케줄링

프로세스 하나가 장시간 동안 프로세서를 독점하는 것을 방지하기 위한 것이다.
다른 프로세스가 CPU를 사용하고 있는 프로세스를 중지시키고 CPU를 차지할 수 있는 스케줄링 기법이다.

빠른 응답시간을 요구하는 대화식 시분할 시스템에 유용하다

**장점**

- 우선순위가 높은 프로세스가 긴급 처리되어야할 때 유용하다.
- 모든 프로세스에 프로세서를 할당해줄 수 있는 기회가 생긴다.

**단점**

- 잦은 프로세스 교환(Context Switching)으로 인해 오버헤드가 높다.

<br/>

### 📌 라운드 로빈 (Round Robin)

시분할 시스템을 위해 설계된 스케줄링 기법이다.

우선순위 스케줄링의 일종으로, 각 프로세스에 작은 단위의 시간인 시간 할당량을 주고, 그 시간안에 끝나지 않으면 다시 준비 큐(ready queue)의 뒤로가는 알고리즘이다.

**장점**

- 모든 프로세스가 공정하게 스케줄링을 받을 수 있다
- 실행 큐에 프로세스의 수를 알고 있을때 유용하다
- 짧은 응답시간을 갖고, 최악의 응답시간을 알 수 있다.
- 평균 대기시간이 FIFO와 SJF보다 적다

**단점**

- 할당 시간에 따라 성능이 달라진다. 너무 크면 FCFS가 되고, 짧으면 Context Switching이 잦아져서 오버헤드, 즉 비용이 커진다.
- 하드웨어적 타이머가 필요하다
- 미완성 작업은 시간 할당량을 마친 후 프로세서를 기다리게되어 평균 처리시간이 높다

→ 일반적으로 전체 작업시간은 길어지지만, 평균 응답시간은 짧아진다는 특징이 있다

### 📌 SRF

SJF 스케줄링 기법을 선점형으로 변환한 기법으로, 중간에 더 짧은 작업이 들어오면 수행하던 프로세스를 중지하고, 더 짧은 해당 프로세스를 수행하는 알고리즘이다

### 📌 다단계 큐

프로세스들을 특정 그룹으로 분리하여, 각 그룹마다 독자적인 Queue를 이용해서 스케줄링 하는 기법이다.

우선순위에 따른 준비 큐를 여러개 사용하고, 큐마다 라운드로빈이나 FCFS등 다른 스케줄링 알고리즘을 적용한다.

큐 간의 프로세스 이동이 안되므로, 스케줄링 부담이 적지만 유연성이 떨어진다

<br/>

# 비선점 스케줄링 (non-preemptive)

이미 사용되고 있는 CPU를 뺏지못하며, 사용이 끝날때까지 기다리는 스케줄링 기법이다.
프로세스가 스스로 CPU 소유권을 포기하는 방식이며, 강제로 프로세스를 중지하지 않는다.

일괄처리 방식이 적합하다

**장점**

- 컨텍스트 스위칭으로 인한 부하가 적다.
- 응답시간을 예측할 수 있다
- 실행시간이 짧은 프로세스가 먼저 자원을 가질 수 있어 가장 짧은 평균 대기시간을 기대할 수 있다.

**단점**

- 실행시간이 긴 프로세스는 실행시간이 짧은 프로세스에 밀려 기아 상태가 될 수 있다.
- 중요도가 높은 작업이 다른 낮은 작업이 끝나기를 기다리는 경우가 발생할 수 있다

<br/>

### 📌 FCFS (First Come First Service)

가장 먼저 온 것을 가장 먼저 처리하는 알고리즘이다.

**장점**

- 스케줄링이 단순하다
- 모든 프로세스가 실행될 수 있다
- 프로세서가 지속적으로 유용한 프로세스를 수행하여 처리율이 높다

**단점**

- 비선점방식이므로 대화형 작업에는 부적합하다
- 길게 수행되는 프로세스로 인해, ‘준비 큐에서 오래 기다리는 현상(convoy effect)’이 발생할 수 있다

### 📌 SJF (Shortest Job First)

실행시간이 가장 짧은 프로세스를 먼저 실행하는 알고리즘이다.

**장점**

- 시간이 짧은 작업을 먼저하므로, 평균 대기시간이 짧다

**단점**

- 긴 시간을 가진 프로세스가 실행되지 않는 현상(starvation)이 일어난다
- 실행시간을 예측할 수 없어 실용적이지 못하다
- 짧은 작업이 먼저 실행되므로, 공정하지 못한 정책이다

### 📌 우선순위

우선순위가 높은 작업을 먼저 수행하는 알고리즘이다

만약 우선순위가 낮은 프로세스가 높은 프로세스에 의해 실행되고 있지 않은 상태라면, 프로세스의 우선순위를 점차 높이는 에이징(aging) 기법을 사용해 보완한다

**장점**

- 각 프로세스의 중요성에 따라 수행하기 때문에 합리적이다
- 실시간 시스템에서 사용가능하다

**단점**

- 높은 우선순위를 갖는 프로세스가 계속 스케줄링되면, 우선순위가 낮은 프로세스는 할당받지 못해 기아현상이 발생할 수 있다

<br/>

## 참고

[https://www.crocus.co.kr/1373](https://www.crocus.co.kr/1373)  
[https://reakwon.tistory.com/132](https://reakwon.tistory.com/132)
