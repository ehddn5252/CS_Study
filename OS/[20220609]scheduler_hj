### 스케줄러란??

한정적인 메모리를 여러 프로세스가 효율적으로 사용할 수 있도록
다음 실행 시간에 실행할 수 있는 프로세스 중에 하나를 선택하는 역할

<br/>

## 📌 프로세스 큐

**프로세스를 스케줄링 하기 위한 프로세스 Queue 3가지**

1. **Job Queue** : 하드디스크에 있는 프로그램이 실행되기 위해 메인 메모리의 할당 순서를 기다리는 큐이다.
   현재 시스템 내에 있는 **모든 프로세스**의 집합
2. **Ready Queue** : CPU 점유 순서를 기다리는 큐이다.
   현재 **메모리 내에** 있으면서 CPU를 잡아서 실행되기를 기다리는(ready 상태) 프로세스의 집합
3. **Device Queue** : Device **I/O 작업을 대기**하고 있는 프로세스의 집합

![스케줄러](https://user-images.githubusercontent.com/87989933/172766143-0f86704b-b8d7-4423-9917-c8c19e86373b.png)

<br/>

## 📌 장기 스케줄러 / 잡 스케줄러 (**Long-term scheduler / job scheduler)**

어떤 프로세스를 Ready Queue에 옮길지를 결정한다. **(new → ready)**

한정된 메모리에 한꺼번에 많은 프로세스가 메모리로 올라올 경우, 대용량 메모리 (일반적으로 디스크)에 임시저장되는데, 여기서 어떤 프로세스에 메모리를 할당하여 Ready Queue에 옮길지를 결정하는 스케줄러이다.

ex) 내가 수행해야할 job이 10개인데, 한정된 메모리는 6개이다. 이때 10개중 6개를 고르는 역할을 한다.

- 메모리 - 디스크 사이의 스케줄링을 담당한다.
- 프로세스에 메모리를 할당한다. (admit)
- 메모리에 올라가있는 프로세스의 수를 조절한다.
- 스케줄링이 발생하는 시간이 비교적 오래걸리기 때문에 장기 스케줄러이다. (대략 초~분)

* virtual memory management가 발전하여 운영체제가 가상 메모리 서비스를 지원하기때문에 장기 스케줄러가 의미 없어진다?!

* 시분할 시스템 (time sharing system) 에서는 장기 스케줄러가 사용되지 않는다.

→ **시분할 시스템 (time sharing system)**

<br/>

## 📌 단기 스케줄러 / CPU 스케줄러 (**Short-term scheduler / CPU scheduler)**

CPU스케줄러라고도 하며 준비상태의 프로세스 중에서 어떤 것을 실행 상태로 바꿀지를 결정하는 스케줄러이다.

ex) 장기 스케줄러에 의해 메모리에 올라온 6개의 job 중에 CPU가 수행할 하나를 선택하는 역할을 한다.

- CPU - 메모리 사이의 스케줄링을 담당한다.
- Ready Queue 에 존재하는 프로세스 중 어떤 프로세스를 running 시킬지 결정.
- 프로세스에 CPU 를 할당(scheduler dispatch)
- 프로세스의 상태 **ready -> running -> waiting -> ready**
- 스케줄링이 발생하는 시간이 매우 짧기 때문에 단기 스케줄러이다.

<br/>

## 📌  중기 스케줄러 / 스와퍼 (**Medium-term scheduler / Swapper)**

현 시스템에서 메모리에 너무 많은 프로그램이 동시에 올라가는 것을 조절하는 스케줄러이다. 
**(ready → suspended)**

- 메모리에 적재된 프로세스의 수를 조절한다.
- 여유 공간을 마련하기 위해 프로세스를 통째로 메모리에서 디스크로 쫓아낸다. (Swap-In/ Swap-Out)
- blocked 상태는 다른 I/O작업을 기다리는 상태이기 때문에 스스로 ready state로 돌아갈 수 있지만, suspended상태는 외부적인 이유로 suspending 되었기 때문에 스스로 돌아갈 수 없다.

* **Swap Out**

메모리에 많은 수의 프로세스가 올라와 프로세스당 할당된 **메모리 양이 적어서** 작업 수행에 문제가 생기고 이로 인해 디스크 I/O가 자주 발생하게 되는데 이는 **시스템의 성능을 저하** 시킨다.

→ 메모리에 올라와 있는 프로세스 중 **일부 프로세스의 메모리를** 통째로 빼앗아 그 내용을 **디스크의 스왑 영역에 저장** 하게 된다.

<br/>

### 참고

[https://jhnyang.tistory.com/372](https://jhnyang.tistory.com/372)

[https://k39335.tistory.com/32](https://k39335.tistory.com/32)
